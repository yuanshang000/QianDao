<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自律助手</title>
</head>
<body>
<h1>自律助手</h1>
<span id="time"></span><button id="button" onclick="anniu()">工作开始计时</button> </span><br>  <!--工作时间 startTimer()  -->
<!-- 每月工资：<input type="text" id="number" oninput="Meitiangongzhi()">元<br> -->
 <span id="c">  </span> <br>    <!--每月工资   -->
<span id="a">  </span> <br>      <!--每天工资  Meitiangongzhi()   -->
<span id="b">  </span> <br>     <!--每秒工资    -->
<span id="gongzhi"></span>          <!--今天已挣  GongZhi();   -->

</body>
<script>
function anniu(){
    document.getElementById("c").textContent = '每月工资：' + month + "元";
    startTimer();//调用工作时间方法
    removeButton(); //调用删除按钮方法
    Meitiangongzhi();//调用的是计算每天工资
    GongZhi();   //今天已挣
}

// ---------------------------------每月工资------------------------------

var month = 5000;      //修改这个即可



function Meitiangongzhi() {  
    //获取每月工资的值
//  var MeiYueGongZhi = document.getElementById('number').value;

var MeiYueGongZhi = month;
 // 创建一个表示当前日期的 Date 对象
var currentDate = new Date();

// 获取当前月份的天数
var daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();
// 得到这个月每天的工资
var meitiangongzhi = Math.round(MeiYueGongZhi/daysInMonth)

document.getElementById("a").textContent='每天工资：'+meitiangongzhi+'元';

// --------------------------------------每秒的工资---------------------------------

}

//-------------------------------------时间-------------------------
    var hours = 0;
    var minutes = 0;
    var seconds = 0;
    var timerInterval;


    function startTimer() {
      // 检查计时器是否已经在运行
      if (!timerInterval) {
        // 开始计时，每秒更新一次
        timerInterval = setInterval(function() {
          seconds++;
          if (seconds === 60) {
            seconds = 0;
            minutes++;
            if (minutes === 60) {
              minutes = 0;
              hours++;
            }
          }
          updateTimerDisplay();
        }, 1000);
      }
    }

    function updateTimerDisplay() {
      // 格式化时间显示
      var formattedTime =
        padNumber(hours) + ':' +
        padNumber(minutes) + ':' +
        padNumber(seconds);

      // 更新页面上显示计时器的元素
      document.getElementById('time').textContent = '工作时间：' + formattedTime;
    }

    function padNumber(number) {
      // 将数字转换为两位数的字符串，例如：9 -> '09'
      return (number < 10) ? '0' + number : number;
    }
// -------------------------------删除按钮--------------------------------
function removeButton() {
      // 获取按钮元素
      var button = document.getElementById('button');

      // 从DOM中删除按钮
      button.parentNode.removeChild(button);
    }


// --------------------------------挣钱------------------------------------
var count = 0; // 将 count 移到函数外部，以确保在调用之间保持持续
var intervalId;
var meimiaogongzhi;
function GongZhi() {
  var MeiYueGongZhi = month;

  // 创建一个表示当前日期的 Date 对象
  var currentDate = new Date();

  // 获取当前月份的天数
  var daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();

  // 每秒的工资
   meimiaogongzhi = MeiYueGongZhi / (daysInMonth * 43200);
   meimiaogongzhi = parseFloat(meimiaogongzhi.toFixed(4));
    MeiMiaoGongZhi();
  // 每秒增加并更新计数器
   intervalId = setInterval(function () {
    count += meimiaogongzhi;
    // 保留小数点后一位
    count = parseFloat(count.toFixed(4));
    updateCounterDisplay();
  }, 1000);
}

function updateCounterDisplay() {
  // 更新页面上显示计数器的元素
  document.getElementById("gongzhi").textContent = '今天已挣：' + count + "元";
}

function MeiMiaoGongZhi(){
    document.getElementById("b").textContent = '每秒工资：' + meimiaogongzhi + "元";
}




</script>
</html>